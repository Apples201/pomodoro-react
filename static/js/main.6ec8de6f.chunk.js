(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(20)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(2),c=n.n(s),l=n(3),o=n(4),i=n(6),u=n(5),m=n(7),d=(n(14),Object(a.memo)(function(e){var t=e.types,n=e.changeType,a=e.selected;return r.a.createElement("div",{className:"TypeSelect"},t.map(function(e,t){return r.a.createElement("button",{key:e.name,onClick:function(){return n(e)},className:e===a?"active":""},e.name)}))}));function p(e){return e>9?e:"0".concat(e)}function v(e){var t=p(Math.floor(e/60)),n=p(Math.floor(e%60));return"".concat(t,":").concat(n)}n(15);var E=function(e){var t=e.time,n=e.status,a=e.progress;document.title="(".concat(v(t),") Pomodoro");var s=280*Math.PI,c=s-a/100*s;return r.a.createElement("div",{className:"TimeDisplay"},r.a.createElement("svg",{width:"100%",viewBox:"0 0 ".concat(300," ").concat(300)},r.a.createElement("circle",{stroke:"#ddd",fill:"#fff",strokeWidth:5,r:140,cx:150,cy:150}),r.a.createElement("circle",{stroke:"#D9534F",fill:"transparent",strokeWidth:5,strokeDasharray:s+" "+s,style:{strokeDashoffset:c},r:140,cx:150,cy:150})),r.a.createElement("div",null,r.a.createElement("h1",null,v(t)),r.a.createElement("p",null,n)))},f=(n(16),Object(a.memo)(function(e){var t,n=e.start,a=e.reset,s=e.pause,c=e.status;return t=c?"Finished"===c?r.a.createElement("button",{onClick:n,className:"start"},"Restart Timer"):"Paused"===c?r.a.createElement("div",null,r.a.createElement("button",{onClick:a,className:"reset"},"Reset"),r.a.createElement("button",{onClick:s,className:"resume"},"Resume")):r.a.createElement("div",null,r.a.createElement("button",{onClick:a,className:"reset"},"Reset"),r.a.createElement("button",{onClick:s,className:"pause"},"Pause")):r.a.createElement("button",{onClick:n,className:"start"},"Start Timer"),r.a.createElement("div",{className:"Controls"},t)})),h=(n(17),Object(a.memo)(function(){return r.a.createElement("div",{className:"Shortcuts"},r.a.createElement("i",{className:"far fa-keyboard"}),r.a.createElement("div",{className:"Shortcuts-box"},r.a.createElement("div",{className:"Shortcut"},r.a.createElement("div",null,"Play / Pause / Resume"),r.a.createElement("div",null,r.a.createElement("kbd",null,"Space"))),r.a.createElement("div",{className:"Shortcut"},r.a.createElement("div",null,"Reset"),r.a.createElement("div",null,r.a.createElement("kbd",null,"Esc"))),r.a.createElement("div",{className:"Shortcut"},r.a.createElement("div",null,"Pomodoro"),r.a.createElement("div",null,r.a.createElement("kbd",null,"1"),r.a.createElement("kbd",null,"Num1"))),r.a.createElement("div",{className:"Shortcut"},r.a.createElement("div",null,"Short Break"),r.a.createElement("div",null,r.a.createElement("kbd",null,"2"),r.a.createElement("kbd",null,"Num2"))),r.a.createElement("div",{className:"Shortcut"},r.a.createElement("div",null,"Long Break"),r.a.createElement("div",null,r.a.createElement("kbd",null,"3"),r.a.createElement("kbd",null,"Num3")))))})),y=(n(18),Object(a.memo)(function(e){var t=e.sound,n=e.toggleSound;return r.a.createElement("button",{className:"ToggleSound ".concat(t&&"active"),onClick:n,title:t?"Disable Sound":"Enable Sound"},r.a.createElement("i",{className:"fa fa-volume-".concat(t?"up":"mute")}))})),g=(n(19),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleKeyUp=function(e){" "===e.key?n.pauseTimer():"Escape"===e.key?n.resetTimer():e.key>=1&&e.key<=n.props.types.length&&n.changeType(n.props.types[e.key-1])},n.changeType=function(e){n.resetTimer(),n.setState({selectedType:e,time:e.time,running:!1})},n.tick=function(){if(n.state.time<=1){n.stopInterval(),n.setState({running:!1}),n.state.sound&&n.sound.play();try{navigator.serviceWorker.register("service-worker.js").then(function(e){e.showNotification("".concat(n.state.selectedType.name," finished!"))})}catch(e){console.log("Notification error",e)}}n.setState(function(e){return{time:e.time-1}})},n.stopInterval=function(){clearInterval(n.state.interval),n.setState({interval:null})},n.startTimer=function(){n.setState(function(e){return{running:!0,interval:setInterval(n.tick,1e3),time:e.time>0?e.time:e.selectedType.time}}),n.sound.pause(),n.sound.currentTime=0},n.resetTimer=function(){n.stopInterval(),n.setState(function(e){return{time:e.selectedType.time,running:!1}})},n.pauseTimer=function(){n.state.interval?n.stopInterval():n.startTimer()},n.getStatus=function(){var e=n.state,t=e.time,a=e.running,r=e.interval;return 0===t?"Finished":a&&!r?"Paused":a?"Running":void 0},n.getProgress=function(){var e=n.state.time,t=n.state.selectedType.time;return(t-e)/t*100},n.handleToggleSound=function(){n.setState(function(e){return{sound:!e.sound}},function(){window.localStorage.setItem("pomodoro-react-sound",n.state.sound)})},n.state={selectedType:e.types[0],time:e.types[0].time,interval:null,running:!1,sound:null===window.localStorage.getItem("pomodoro-react-sound")||JSON.parse(window.localStorage.getItem("pomodoro-react-sound"))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.handleKeyUp),Notification.requestPermission(),this.sound=new Audio("bell.flac"),this.sound.preload="auto"}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this.state,t=e.time,n=e.selectedType,a=e.sound,s=this.props.types;return r.a.createElement("div",{className:"Pomodoro"},r.a.createElement(d,{types:s,selected:n,changeType:this.changeType}),r.a.createElement(E,{time:t,status:this.getStatus(),progress:this.getProgress()}),r.a.createElement(f,{start:this.startTimer,reset:this.resetTimer,pause:this.pauseTimer,status:this.getStatus()}),r.a.createElement(h,null),r.a.createElement(y,{sound:a,toggleSound:this.handleToggleSound}))}}]),t}(a.Component));g.defaultProps={types:[{name:"Pomodoro",time:1500},{name:"Short Break",time:300},{name:"Long Break",time:900}]};var k=g;c.a.render(r.a.createElement(k,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.6ec8de6f.chunk.js.map